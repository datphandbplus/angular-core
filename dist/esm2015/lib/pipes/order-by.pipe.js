import * as tslib_1 from "tslib";
var OrderByPipe_1;
import { Pipe } from '@angular/core';
let OrderByPipe = OrderByPipe_1 = class OrderByPipe {
    /**
    * Order by comparator
    * @static
    * @param {any} a
    * @param {any} b
    * @return {number}
    */
    static _orderByComparator(a, b) {
        if (!a)
            return -1;
        if (!b)
            return 1;
        if ((isNaN(parseFloat(a)) || !isFinite(a))
            || (isNaN(parseFloat(b)) || !isFinite(b))) {
            // Isn't a number so lowercase the string to properly compare
            if (a.toLowerCase() < b.toLowerCase())
                return -1;
            if (a.toLowerCase() > b.toLowerCase())
                return 1;
        }
        else {
            // Parse strings as numbers to compare properly
            if (parseFloat(a) < parseFloat(b))
                return -1;
            if (parseFloat(a) > parseFloat(b))
                return 1;
        }
        return 0; // equal each other
    }
    /**
    * Get own nested property
    * @static
    * @param {any} obj
    * @param {string} propertyPath
    * @return {any}
    */
    static getOwnNestedProperty(obj, propertyPath) {
        if (!propertyPath)
            return false;
        const properties = propertyPath.split('.');
        for (let i = 0; i < properties.length; i++) {
            const prop = properties[i];
            if (!obj || !obj.hasOwnProperty(prop)) {
                return null;
            }
            obj = obj[prop];
        }
        return obj;
    }
    /**
    * Transform
    * @param {any} input
    * @return {any}
    */
    transform(input, [config = '+']) {
        if (!Array.isArray(input))
            return input;
        if (!Array.isArray(config)
            || (Array.isArray(config) && config.length === 1)) {
            const propertyToCheck = !Array.isArray(config) ? config : config[0];
            const desc = propertyToCheck.substr(0, 1) === '-';
            if (!propertyToCheck
                || propertyToCheck === '-' || propertyToCheck === '+') {
                return !desc ? input.sort() : input.sort().reverse();
            }
            const property = propertyToCheck.substr(0, 1) === '+'
                || propertyToCheck.substr(0, 1) === '-'
                ? propertyToCheck.substr(1)
                : propertyToCheck;
            return input.sort((a, b) => {
                return !desc
                    ? OrderByPipe_1._orderByComparator(OrderByPipe_1.getOwnNestedProperty(a, property), OrderByPipe_1.getOwnNestedProperty(b, property))
                    : -OrderByPipe_1._orderByComparator(OrderByPipe_1.getOwnNestedProperty(a, property), OrderByPipe_1.getOwnNestedProperty(b, property));
            });
        }
        return input.sort((a, b) => {
            for (let i = 0; i < config.length; i++) {
                const desc = config[i].substr(0, 1) === '-';
                const property = config[i].substr(0, 1) === '+'
                    || config[i].substr(0, 1) === '-'
                    ? config[i].substr(1)
                    : config[i];
                const comparison = !desc
                    ? OrderByPipe_1._orderByComparator(OrderByPipe_1.getOwnNestedProperty(a, property), OrderByPipe_1.getOwnNestedProperty(b, property))
                    : -OrderByPipe_1._orderByComparator(OrderByPipe_1.getOwnNestedProperty(a, property), OrderByPipe_1.getOwnNestedProperty(b, property));
                if (comparison !== 0)
                    return comparison;
            }
            return 0;
        });
    }
};
OrderByPipe = OrderByPipe_1 = tslib_1.__decorate([
    Pipe({
        name: 'orderBy',
        pure: false,
    })
], OrderByPipe);
export { OrderByPipe };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3JkZXItYnkucGlwZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FuZ3VsYXItY29yZS8iLCJzb3VyY2VzIjpbImxpYi9waXBlcy9vcmRlci1ieS5waXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBTyxFQUFFLElBQUksRUFBaUIsTUFBTSxlQUFlLENBQUM7QUFNcEQsSUFBYSxXQUFXLG1CQUF4QixNQUFhLFdBQVc7SUFFdkI7Ozs7OztNQU1FO0lBQ0ssTUFBTSxDQUFDLGtCQUFrQixDQUFFLENBQU0sRUFBRSxDQUFNO1FBQy9DLElBQUssQ0FBQyxDQUFDO1lBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNwQixJQUFLLENBQUMsQ0FBQztZQUFHLE9BQU8sQ0FBQyxDQUFDO1FBRW5CLElBQUssQ0FBRSxLQUFLLENBQUUsVUFBVSxDQUFFLENBQUMsQ0FBRSxDQUFFLElBQUksQ0FBQyxRQUFRLENBQUUsQ0FBQyxDQUFFLENBQUU7ZUFDL0MsQ0FBRSxLQUFLLENBQUUsVUFBVSxDQUFFLENBQUMsQ0FBRSxDQUFFLElBQUksQ0FBQyxRQUFRLENBQUUsQ0FBQyxDQUFFLENBQUUsRUFBRztZQUNwRCw2REFBNkQ7WUFDN0QsSUFBSyxDQUFDLENBQUMsV0FBVyxFQUFFLEdBQUcsQ0FBQyxDQUFDLFdBQVcsRUFBRTtnQkFBRyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ25ELElBQUssQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUU7Z0JBQUcsT0FBTyxDQUFDLENBQUM7U0FDbEQ7YUFBTTtZQUNOLCtDQUErQztZQUMvQyxJQUFLLFVBQVUsQ0FBRSxDQUFDLENBQUUsR0FBRyxVQUFVLENBQUUsQ0FBQyxDQUFFO2dCQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDbkQsSUFBSyxVQUFVLENBQUUsQ0FBQyxDQUFFLEdBQUcsVUFBVSxDQUFFLENBQUMsQ0FBRTtnQkFBRyxPQUFPLENBQUMsQ0FBQztTQUNsRDtRQUNELE9BQU8s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LENBQUM7R0FDVyxXQUFXLENBK0d2QjtTQS9HWSxXQUFXIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AUGlwZSh7XG5cdG5hbWU6ICdvcmRlckJ5Jyxcblx0cHVyZTogZmFsc2UsXG59KVxuZXhwb3J0IGNsYXNzIE9yZGVyQnlQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG5cblx0LyoqXG5cdCogT3JkZXIgYnkgY29tcGFyYXRvclxuXHQqIEBzdGF0aWNcblx0KiBAcGFyYW0ge2FueX0gYVxuXHQqIEBwYXJhbSB7YW55fSBiXG5cdCogQHJldHVybiB7bnVtYmVyfVxuXHQqL1xuXHRwdWJsaWMgc3RhdGljIF9vcmRlckJ5Q29tcGFyYXRvciggYTogYW55LCBiOiBhbnkgKTogbnVtYmVyIHtcblx0XHRpZiAoICFhICkgcmV0dXJuIC0xO1xuXHRcdGlmICggIWIgKSByZXR1cm4gMTtcblxuXHRcdGlmICggKCBpc05hTiggcGFyc2VGbG9hdCggYSApICkgfHwgIWlzRmluaXRlKCBhICkgKVxuXHRcdFx0fHwgKCBpc05hTiggcGFyc2VGbG9hdCggYiApICkgfHwgIWlzRmluaXRlKCBiICkgKSApIHtcblx0XHRcdC8vIElzbid0IGEgbnVtYmVyIHNvIGxvd2VyY2FzZSB0aGUgc3RyaW5nIHRvIHByb3Blcmx5IGNvbXBhcmVcblx0XHRcdGlmICggYS50b0xvd2VyQ2FzZSgpIDwgYi50b0xvd2VyQ2FzZSgpICkgcmV0dXJuIC0xO1xuXHRcdFx0aWYgKCBhLnRvTG93ZXJDYXNlKCkgPiBiLnRvTG93ZXJDYXNlKCkgKSByZXR1cm4gMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gUGFyc2Ugc3RyaW5ncyBhcyBudW1iZXJzIHRvIGNvbXBhcmUgcHJvcGVybHlcblx0XHRcdGlmICggcGFyc2VGbG9hdCggYSApIDwgcGFyc2VGbG9hdCggYiApICkgcmV0dXJuIC0xO1xuXHRcdFx0aWYgKCBwYXJzZUZsb2F0KCBhICkgPiBwYXJzZUZsb2F0KCBiICkgKSByZXR1cm4gMTtcblx0XHR9XG5cdFx0cmV0dXJuIDA7IC8vIGVxdWFsIGVhY2ggb3RoZXJcblx0fVxuXG5cdC8qKlxuXHQqIEdldCBvd24gbmVzdGVkIHByb3BlcnR5XG5cdCogQHN0YXRpY1xuXHQqIEBwYXJhbSB7YW55fSBvYmpcblx0KiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlQYXRoXG5cdCogQHJldHVybiB7YW55fVxuXHQqL1xuXHRwdWJsaWMgc3RhdGljIGdldE93bk5lc3RlZFByb3BlcnR5KCBvYmo6IGFueSwgcHJvcGVydHlQYXRoOiBzdHJpbmcgKTogYW55IHtcblx0XHRpZiAoICFwcm9wZXJ0eVBhdGggKSByZXR1cm4gZmFsc2U7XG5cblx0XHRjb25zdCBwcm9wZXJ0aWVzOiBBcnJheTxzdHJpbmc+ID0gcHJvcGVydHlQYXRoLnNwbGl0KCAnLicgKTtcblxuXHRcdGZvciAoIGxldCBpOiBudW1iZXIgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdGNvbnN0IHByb3A6IHN0cmluZyA9IHByb3BlcnRpZXNbIGkgXTtcblxuXHRcdFx0aWYgKCAhb2JqIHx8ICFvYmouaGFzT3duUHJvcGVydHkoIHByb3AgKSApIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdG9iaiA9IG9ialsgcHJvcCBdO1xuXHRcdH1cblxuXHRcdHJldHVybiBvYmo7XG5cdH1cblxuXHQvKipcblx0KiBUcmFuc2Zvcm1cblx0KiBAcGFyYW0ge2FueX0gaW5wdXRcblx0KiBAcmV0dXJuIHthbnl9XG5cdCovXG5cdHB1YmxpYyB0cmFuc2Zvcm0oIGlucHV0OiBhbnksIFsgY29uZmlnID0gJysnIF06IGFueSApOiBhbnkge1xuXHRcdGlmICggIUFycmF5LmlzQXJyYXkoIGlucHV0ICkgKSByZXR1cm4gaW5wdXQ7XG5cblx0XHRpZiAoICFBcnJheS5pc0FycmF5KCBjb25maWcgKVxuXHRcdFx0fHwgKCBBcnJheS5pc0FycmF5KCBjb25maWcgKSAmJiBjb25maWcubGVuZ3RoID09PSAxICkgKSB7XG5cdFx0XHRjb25zdCBwcm9wZXJ0eVRvQ2hlY2s6IHN0cmluZyA9ICFBcnJheS5pc0FycmF5KCBjb25maWcgKSA/IGNvbmZpZyA6IGNvbmZpZ1sgMCBdO1xuXHRcdFx0Y29uc3QgZGVzYzogYm9vbGVhbiA9IHByb3BlcnR5VG9DaGVjay5zdWJzdHIoIDAsIDEgKSA9PT0gJy0nO1xuXG5cdFx0XHRpZiAoICFwcm9wZXJ0eVRvQ2hlY2tcblx0XHRcdFx0fHwgcHJvcGVydHlUb0NoZWNrID09PSAnLScgfHwgcHJvcGVydHlUb0NoZWNrID09PSAnKycgKSB7XG5cdFx0XHRcdHJldHVybiAhZGVzYyA/IGlucHV0LnNvcnQoKSA6IGlucHV0LnNvcnQoKS5yZXZlcnNlKCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHByb3BlcnR5OiBzdHJpbmcgPSBwcm9wZXJ0eVRvQ2hlY2suc3Vic3RyKCAwLCAxICkgPT09ICcrJ1xuXHRcdFx0XHR8fCBwcm9wZXJ0eVRvQ2hlY2suc3Vic3RyKCAwLCAxICkgPT09ICctJ1xuXHRcdFx0XHQ/IHByb3BlcnR5VG9DaGVjay5zdWJzdHIoIDEgKVxuXHRcdFx0XHQ6IHByb3BlcnR5VG9DaGVjaztcblxuXHRcdFx0cmV0dXJuIGlucHV0LnNvcnQoICggYTogYW55LCBiOiBhbnkgKSA9PiB7XG5cdFx0XHRcdHJldHVybiAhZGVzY1xuXHRcdFx0XHRcdD8gT3JkZXJCeVBpcGUuX29yZGVyQnlDb21wYXJhdG9yKFxuXHRcdFx0XHRcdFx0T3JkZXJCeVBpcGUuZ2V0T3duTmVzdGVkUHJvcGVydHkoIGEsIHByb3BlcnR5ICksXG5cdFx0XHRcdFx0XHRPcmRlckJ5UGlwZS5nZXRPd25OZXN0ZWRQcm9wZXJ0eSggYiwgcHJvcGVydHkgKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0XHQ6IC1PcmRlckJ5UGlwZS5fb3JkZXJCeUNvbXBhcmF0b3IoXG5cdFx0XHRcdFx0XHRPcmRlckJ5UGlwZS5nZXRPd25OZXN0ZWRQcm9wZXJ0eSggYSwgcHJvcGVydHkgKSxcblx0XHRcdFx0XHRcdE9yZGVyQnlQaXBlLmdldE93bk5lc3RlZFByb3BlcnR5KCBiLCBwcm9wZXJ0eSApXG5cdFx0XHRcdFx0KTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaW5wdXQuc29ydCggKCBhOiBhbnksIGI6IGFueSApID0+IHtcblx0XHRcdGZvciAoIGxldCBpOiBudW1iZXIgPSAwOyBpIDwgY29uZmlnLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRjb25zdCBkZXNjOiBib29sZWFuID0gY29uZmlnWyBpIF0uc3Vic3RyKCAwLCAxICkgPT09ICctJztcblx0XHRcdFx0Y29uc3QgcHJvcGVydHk6IHN0cmluZyA9IGNvbmZpZ1sgaSBdLnN1YnN0ciggMCwgMSApID09PSAnKydcblx0XHRcdFx0XHR8fCBjb25maWdbIGkgXS5zdWJzdHIoIDAsIDEgKSA9PT0gJy0nXG5cdFx0XHRcdFx0PyBjb25maWdbIGkgXS5zdWJzdHIoIDEgKVxuXHRcdFx0XHRcdDogY29uZmlnWyBpIF07XG5cdFx0XHRcdGNvbnN0IGNvbXBhcmlzb246IG51bWJlciA9ICFkZXNjXG5cdFx0XHRcdFx0PyBPcmRlckJ5UGlwZS5fb3JkZXJCeUNvbXBhcmF0b3IoXG5cdFx0XHRcdFx0XHRPcmRlckJ5UGlwZS5nZXRPd25OZXN0ZWRQcm9wZXJ0eSggYSwgcHJvcGVydHkgKSxcblx0XHRcdFx0XHRcdE9yZGVyQnlQaXBlLmdldE93bk5lc3RlZFByb3BlcnR5KCBiLCBwcm9wZXJ0eSApXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHRcdDogLU9yZGVyQnlQaXBlLl9vcmRlckJ5Q29tcGFyYXRvcihcblx0XHRcdFx0XHRcdE9yZGVyQnlQaXBlLmdldE93bk5lc3RlZFByb3BlcnR5KCBhLCBwcm9wZXJ0eSApLFxuXHRcdFx0XHRcdFx0T3JkZXJCeVBpcGUuZ2V0T3duTmVzdGVkUHJvcGVydHkoIGIsIHByb3BlcnR5IClcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmICggY29tcGFyaXNvbiAhPT0gMCApIHJldHVybiBjb21wYXJpc29uO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9ICk7XG5cdH1cblxufVxuIl19